CREATE TABLE `t_showcase_bind_product_uid` (
  `id` bigint(20) unsigned NOT NULL COMMENT '主键id',
  `app_id` int(11) NOT NULL DEFAULT '0' COMMENT 'app_id',
  `user_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '用户id',
  `product_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '商品id',
  `sort_score` bigint(20) NOT NULL DEFAULT '0' COMMENT '排序分值',
  `bus_code` bigint(20) DEFAULT '0' COMMENT '请求业务方标记业务类型',
  `bind_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '绑定状态内容状态',
  `is_hide` tinyint(4) NOT NULL DEFAULT '0' COMMENT '隐藏状态（0非隐藏 1隐藏）',
  `is_del` tinyint(4) NOT NULL DEFAULT '1' COMMENT '绑定状态（1正常 2解绑）',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `extra` varchar(1024) NOT NULL DEFAULT '' COMMENT '预留字段',
  `sys_origin_idc_region` varchar(32) DEFAULT 'useast2a' COMMENT 'IDC机房标识，业务禁止写入',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_shop_bind_product` (`user_id`,`app_id`,`product_id`),
  KEY `idx_uid_is_del_pid` (`user_id`,`is_del`,`product_id`),
  KEY `idx_ctime` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='国际化电商橱窗绑定商品关系UID'
  









  
  
  
CREATE TABLE `user_info` (
  `id` bigint(20) unsigned NOT NULL COMMENT 'id',
  `user_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'user_id',
  `name` varchar(1024) NOT NULL DEFAULT '' COMMENT 'name',
  `email` varchar(1024) NOT NULL DEFAULT '' COMMENT 'email',
  `password` varchar(1024) NOT NULL DEFAULT '' COMMENT 'password',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_user_id` (`user_id`),
  UNIQUE KEY `uniq_email` (`email`),
  KEY `idx_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;






CREATE TABLE `user_verify_code` (
  `id` bigint(20) unsigned NOT NULL COMMENT 'id',
  `user_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'user_id',
  `email` varchar(1024) NOT NULL DEFAULT '' COMMENT 'email',
  `verify_code` varchar(1024) NOT NULL DEFAULT '' COMMENT 'verify_code',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_user_id` (`user_id`),
  UNIQUE KEY `uniq_email` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;





CREATE TABLE `user_task_config` (
  `task_config_id` bigint(20) unsigned NOT NULL COMMENT 'task_config_id',
  `user_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'user_id',
  `task_config_name` varchar(1024) NOT NULL DEFAULT '' COMMENT 'task_config_name',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`task_config_id`),
  UNIQUE KEY `uniq_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;




CREATE TABLE `user_document_type_config` (
  `document_type_id` bigint(20) unsigned NOT NULL COMMENT 'document_type_id',
  `task_config_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'task_config_id',
  `document_type` varchar(1024) NOT NULL DEFAULT '' COMMENT 'document_type',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`document_type_id`),
  UNIQUE KEY `uniq_task_config_id` (`task_config_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;




CREATE TABLE `user_document_field_config` (
  `document_field_id` bigint(20) unsigned NOT NULL COMMENT 'document_field_id',
  `document_type_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'document_type_id',
  `field_name` varchar(1024) NOT NULL DEFAULT '' COMMENT 'field_name',
  `field_type` int(4) NOT NULL DEFAULT '' COMMENT 'field_type',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`document_field_id`),
  UNIQUE KEY `uniq_document_type_id` (`document_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;






















1. 注册
request:
	email
	password
	name

写入 user_info

response:
	{
		"code": 0
	}

2. 登录
request:
	email 
	password

查看是否正确，uid_nowtime 加密成 token（可反解）

response:
	{
		"code": 0
		data {
			token
		}
	}

3. send verify_code
request:
	email 

查看 email 是否存在，生成四位随机 verify_code，写入 user_verify_code，发送邮件

response:
	{
		"code": 0
	}

4. 验证 verify_code
request:
	email
	verify_code

查看 email, verify_code 是否正确，uid_nowtime 加密成 verify_token（可反解） 

response:
	{
		"code": 0
		data {
			verify_token
		}
	}

5. 更改 password
request:
	verify_token
	new_password

verify_token 获取 uid，查看uid是否存在，更改密码

response:
	{
		"code": 0
	}


























